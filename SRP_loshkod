class OrderService
{
    public void ProcessOrder(Order order)
    {
        // Проверка дали поръчката е валидна
        if (order.Items.Count == 0)
            throw new Exception("Empty order");

        // Запис на поръчката в база данни
        SaveToDatabase(order);

        // Генериране на фактура
        string invoice = CreateInvoice(order);

        // Изпращане на имейл към клиента
        SendEmail(order.CustomerEmail, invoice);
    }

    void SaveToDatabase(Order order) { }
    string CreateInvoice(Order order) { return "Invoice"; }
    void SendEmail(string email, string content) { }
}
